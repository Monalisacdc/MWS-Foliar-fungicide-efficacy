<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title></title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">MWS Meta-analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data.html"> 
<span class="menu-text"><i class="bi bi-box-arrow-in-right"></i> Data</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-i-classbi-bi-graph-upi-analysis" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text"><i class="bi bi-graph-up"></i> Analysis</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-i-classbi-bi-graph-upi-analysis">    
        <li>
    <a class="dropdown-item" href="./sev.html">
 <span class="dropdown-text">MWS Severity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./yld.html">
 <span class="dropdown-text">Maize Grain Yield</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./economic_analysis.html">
 <span class="dropdown-text">Economic Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./boxplot.html">
 <span class="dropdown-text">Boxplot</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./sev_yld_graph.html">
 <span class="dropdown-text">Sev x Yield</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./map.html">
 <span class="dropdown-text">Map</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/monalisacdc"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Monalisacdc"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/monalisa-de-c%C3%B3l-62a6b31b8/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#meta-analysis-for-the-variable-severity" id="toc-meta-analysis-for-the-variable-severity" class="nav-link active" data-scroll-target="#meta-analysis-for-the-variable-severity">Meta-analysis for the variable severity</a>
  <ul class="collapse">
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a></li>
  <li><a href="#import-the-data" id="toc-import-the-data" class="nav-link" data-scroll-target="#import-the-data">Import the data</a></li>
  <li><a href="#anova-for-each-trialstudy" id="toc-anova-for-each-trialstudy" class="nav-link" data-scroll-target="#anova-for-each-trialstudy">ANOVA for Each Trial/Study</a></li>
  <li><a href="#calculating-the-mean-and-adjusted-variance" id="toc-calculating-the-mean-and-adjusted-variance" class="nav-link" data-scroll-target="#calculating-the-mean-and-adjusted-variance">Calculating the mean and adjusted variance</a></li>
  <li><a href="#meta-analysis" id="toc-meta-analysis" class="nav-link" data-scroll-target="#meta-analysis">Meta-analysis</a>
  <ul class="collapse">
  <li><a href="#fitting-different-models" id="toc-fitting-different-models" class="nav-link" data-scroll-target="#fitting-different-models">Fitting different models</a></li>
  <li><a href="#pairwise-comparison" id="toc-pairwise-comparison" class="nav-link" data-scroll-target="#pairwise-comparison">Pairwise comparison</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="meta-analysis-for-the-variable-severity" class="level1">
<h1>Meta-analysis for the variable severity</h1>
<section id="packages" class="level2">
<h2 class="anchored" data-anchor-id="packages">Packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gsheet)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(metafor)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multcomp)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">library</span>(emmeans)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="import-the-data" class="level2">
<h2 class="anchored" data-anchor-id="import-the-data">Import the data</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dat1 <span class="ot">=</span> <span class="fu">gsheet2tbl</span>(<span class="st">"https://docs.google.com/spreadsheets/d/1joo0WaR7yNWZavGPbwQMjiFPpWHErtGL/edit?gid=1485993259#gid=1485993259"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>dat1 <span class="sc">|&gt;</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(produto, mean_sev)) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sev_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>outliers <span class="ot">&lt;-</span> dat1 <span class="sc">%&gt;%</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto <span class="sc">==</span> <span class="st">"trat_A20259"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(produto, bloco) <span class="sc">%&gt;%</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">outlier =</span> mean_sev <span class="sc">&lt;</span> <span class="fu">quantile</span>(mean_sev, <span class="fl">0.25</span>) <span class="sc">-</span> <span class="fl">1.5</span> <span class="sc">*</span> <span class="fu">IQR</span>(mean_sev) <span class="sc">|</span> </span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>                   mean_sev <span class="sc">&gt;</span> <span class="fu">quantile</span>(mean_sev, <span class="fl">0.75</span>) <span class="sc">+</span> <span class="fl">1.5</span> <span class="sc">*</span> <span class="fu">IQR</span>(mean_sev)) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(outlier) <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ensaio_1, mean_sev)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(outliers)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 4
# Groups:   produto, bloco [4]
  produto     bloco ensaio_1 mean_sev
  &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 trat_A20259     3       25     13.6
2 trat_A20259     4       25     16.5
3 trat_A20259     1       43     19.8
4 trat_A20259     2       43     21.4
5 trat_A20259     3       43     22.3
6 trat_A20259     4       43     22.3
7 trat_A20259     3       50     15.5</code></pre>
</div>
</div>
</section>
<section id="anova-for-each-trialstudy" class="level2">
<h2 class="anchored" data-anchor-id="anova-for-each-trialstudy">ANOVA for Each Trial/Study</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Converting variables to factors  </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>bloco <span class="ot">=</span> <span class="fu">as.factor</span>(dat1<span class="sc">$</span>bloco)   <span class="co"># Block as a factor  </span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>produto <span class="ot">=</span> <span class="fu">as.factor</span>(dat1<span class="sc">$</span>produto)   <span class="co"># fungicide as a factor  </span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>dat1<span class="sc">$</span>ensaio_1 <span class="ot">=</span> <span class="fu">as.factor</span>(dat1<span class="sc">$</span>ensaio_1)  <span class="co"># Trial as a factor  </span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(dat1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>spc_tbl_ [1,748 × 9] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
 $ municipio: chr [1:1748] "Anápolis" "Anápolis" "Anápolis" "Anápolis" ...
 $ bloco    : Factor w/ 4 levels "1","2","3","4": 1 1 1 1 1 1 1 2 2 2 ...
 $ ensaio_1 : Factor w/ 78 levels "5","6","7","8",..: 39 39 39 39 39 39 39 39 39 39 ...
 $ produto  : Factor w/ 9 levels "AACHECK","ABACUS HC (Controle Positivo)",..: 1 2 3 4 5 8 7 1 2 3 ...
 $ ano      : num [1:1748] 2020 2020 2020 2020 2020 2020 2020 2020 2020 2020 ...
 $ estado   : chr [1:1748] "GO" "GO" "GO" "GO" ...
 $ regiao   : chr [1:1748] "Centro-Oeste" "Centro-Oeste" "Centro-Oeste" "Centro-Oeste" ...
 $ mean_sev : num [1:1748] 33 10 13 10 10 13 13 30 12 10 ...
 $ mean_prod: num [1:1748] 5910 7570 7510 8310 8450 ...
 - attr(*, "spec")=
  .. cols(
  ..   municipio = col_character(),
  ..   bloco = col_double(),
  ..   ensaio_1 = col_double(),
  ..   produto = col_character(),
  ..   ano = col_double(),
  ..   estado = col_character(),
  ..   regiao = col_character(),
  ..   mean_sev = col_double(),
  ..   mean_prod = col_double()
  .. )
 - attr(*, "problems")=&lt;externalptr&gt; </code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Performing ANOVA to obtain Sum of Squares (Sq) and Mean Squares (MeanSq)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>dat2 <span class="ot">&lt;-</span> dat1 <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mean_sev <span class="sc">!=</span> <span class="st">"NA"</span>)<span class="sc">|&gt;</span> </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(ensaio_1, produto, bloco, mean_sev) <span class="sc">%&gt;%</span> </span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">nest</span>(<span class="at">data =</span> <span class="fu">c</span>(produto, bloco, mean_sev)) <span class="sc">%&gt;%</span> </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">aov_results =</span> <span class="fu">map</span>(data, <span class="sc">~</span> <span class="fu">tidy</span>(<span class="fu">aov</span>(mean_sev <span class="sc">~</span> produto <span class="sc">+</span> bloco, <span class="at">data =</span> .x)))</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(aov_results) <span class="sc">%&gt;%</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(term <span class="sc">==</span> <span class="st">"Residuals"</span>)<span class="sc">|&gt;</span> </span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="calculating-the-mean-and-adjusted-variance" class="level2">
<h2 class="anchored" data-anchor-id="calculating-the-mean-and-adjusted-variance">Calculating the mean and adjusted variance</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#First: Merge the Original Spreadsheet (dat1) with the Spreadsheet Containing the ANOVA Results; </span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dat3 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(dat1, dat2) <span class="sc">|&gt;</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a> <span class="fu">group_by</span>(municipio,regiao, ensaio_1, produto, ano) <span class="sc">%&gt;%</span> </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean_sev =</span> <span class="fu">mean</span>(mean_sev<span class="fl">+0.1</span>), <span class="co">#severity mean</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean_V =</span> <span class="fu">mean</span>(meansq), <span class="co">#SQ mean</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">n =</span> <span class="fu">n</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">log_sev =</span> <span class="fu">log</span>(mean_sev)) <span class="co">#Mean of the transformed severity</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculating adjusted variance of severity</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  dat3<span class="sc">$</span>vi_sev <span class="ot">=</span> <span class="fu">with</span>(dat3, mean_V <span class="sc">/</span> (n <span class="sc">*</span> mean_sev<span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="meta-analysis" class="level2">
<h2 class="anchored" data-anchor-id="meta-analysis">Meta-analysis</h2>
<section id="fitting-different-models" class="level3">
<h3 class="anchored" data-anchor-id="fitting-different-models">Fitting different models</h3>
<p>Differences in structures were tested, and the one that best fit was the unstructured. The others are commented out.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a> net_arm_UN_first <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>   log_sev,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>   vi_sev,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">mods =</span> <span class="sc">~</span> produto,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">method =</span> <span class="st">"ML"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">random =</span> <span class="fu">list</span>( <span class="sc">~</span> produto <span class="sc">|</span> <span class="fu">factor</span>(ensaio_1)),</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">struct =</span> <span class="st">"HCS"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>   <span class="at">control =</span> <span class="fu">list</span>(<span class="at">optimizer =</span> <span class="st">"nlm"</span>),</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>   <span class="at">data =</span> dat3)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a> <span class="fu">summary</span>(net_arm_UN_first)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Multivariate Meta-Analysis Model (k = 445; method: ML)

   logLik   Deviance        AIC        BIC       AICc   
-306.4493  1613.2329   650.8986   728.7620   652.6868   

Variance Components:

outer factor: factor(ensaio_1) (nlvls = 78)
inner factor: produto          (nlvls = 9)

            estim    sqrt  k.lvl  fixed 
tau^2.1    0.7859  0.8865     78     no 
tau^2.2    0.8148  0.9027     65     no 
tau^2.3    1.0767  1.0376     33     no 
tau^2.4    0.9735  0.9867     49     no 
tau^2.5    0.9379  0.9685     60     no 
tau^2.6    0.9177  0.9580     34     no 
tau^2.7    0.9305  0.9646     35     no 
tau^2.8    0.8601  0.9274     53     no 
tau^2.9    0.6800  0.8246     38     no 
rho        0.9148                    no 
                                                  level 
tau^2.1                                         AACHECK 
tau^2.2                   ABACUS HC (Controle Positivo) 
tau^2.3                     BELYAN  (Controle Positivo) 
tau^2.4                                        FOX XPRO 
tau^2.5                                     OSKESTRA SC 
tau^2.6                                        PREVINIL 
tau^2.7                                     trat_A20259 
tau^2.8                                         TRIDIUM 
tau^2.9    UNIZEB GOLD (Controle Positivo, multissítio) 
rho                                                     

Test for Residual Heterogeneity:
QE(df = 436) = 55256.5347, p-val &lt; .0001

Test of Moderators (coefficients 2:9):
QM(df = 8) = 823.1008, p-val &lt; .0001

Model Results:

                                                     estimate      se      zval 
intrcpt                                                2.8850  0.1007   28.6478 
produtoABACUS HC (Controle Positivo)                  -0.8804  0.0497  -17.7189 
produtoBELYAN  (Controle Positivo)                    -1.2339  0.0818  -15.0837 
produtoFOX XPRO                                       -1.1689  0.0633  -18.4557 
produtoOSKESTRA SC                                    -1.1748  0.0576  -20.4106 
produtoPREVINIL                                       -0.9230  0.0681  -13.5446 
produtotrat_A20259                                    -1.2486  0.0736  -16.9612 
produtoTRIDIUM                                        -1.0853  0.0563  -19.2910 
produtoUNIZEB GOLD (Controle Positivo, multissítio)   -0.7601  0.0583  -13.0287 
                                                       pval    ci.lb    ci.ub 
intrcpt                                              &lt;.0001   2.6876   3.0823 
produtoABACUS HC (Controle Positivo)                 &lt;.0001  -0.9778  -0.7830 
produtoBELYAN  (Controle Positivo)                   &lt;.0001  -1.3942  -1.0736 
produtoFOX XPRO                                      &lt;.0001  -1.2931  -1.0448 
produtoOSKESTRA SC                                   &lt;.0001  -1.2876  -1.0620 
produtoPREVINIL                                      &lt;.0001  -1.0566  -0.7895 
produtotrat_A20259                                   &lt;.0001  -1.3929  -1.1043 
produtoTRIDIUM                                       &lt;.0001  -1.1955  -0.9750 
produtoUNIZEB GOLD (Controle Positivo, multissítio)  &lt;.0001  -0.8745  -0.6458 
                                                         
intrcpt                                              *** 
produtoABACUS HC (Controle Positivo)                 *** 
produtoBELYAN  (Controle Positivo)                   *** 
produtoFOX XPRO                                      *** 
produtoOSKESTRA SC                                   *** 
produtoPREVINIL                                      *** 
produtotrat_A20259                                   *** 
produtoTRIDIUM                                       *** 
produtoUNIZEB GOLD (Controle Positivo, multissítio)  *** 

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a> <span class="co">#salvando</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a> m1 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">cbind</span>(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>   (net_arm_UN_first<span class="sc">$</span>b),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>   (net_arm_UN_first<span class="sc">$</span>ci.lb),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>   (net_arm_UN_first<span class="sc">$</span>ci.ub),</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>   (net_arm_UN_first<span class="sc">$</span>se)))</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a> m1 <span class="ot">=</span> m1</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>   <span class="fu">names</span> (m1) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"log_sev"</span>, <span class="st">"sev_lw"</span>, <span class="st">"sev_up"</span>, <span class="st">"se"</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  m1 <span class="ot">&lt;-</span> m1 <span class="sc">|&gt;</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a> <span class="fu">mutate</span>(<span class="at">fungicide =</span> <span class="fu">c</span>(<span class="st">"check"</span>, <span class="st">"ABACUSHC"</span>, <span class="st">"BAS75302F"</span>, <span class="st">"FOX XPRO"</span>, <span class="st">"OSKESTRASC"</span>, <span class="st">"PREVINIL"</span>, <span class="st">"A20259"</span>, <span class="st">"TRIDIUM"</span>, <span class="st">"UNIZEBGOLD"</span>)) </span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> m1 <span class="sc">|&gt;</span>  </span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(fungicide, log_sev, sev_lw, sev_up,se)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(writexl)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="co">#write_xlsx(m1, "results_log_Sev.xlsx")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="pairwise-comparison" class="level3">
<h3 class="anchored" data-anchor-id="pairwise-comparison">Pairwise comparison</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#The glht() function is used to perform multiple comparisons between the groups adjusted by the model</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a> net_arm_UN_comp <span class="ot">&lt;-</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summary</span>(<span class="fu">glht</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">model =</span> net_arm_UN_first,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">linfct =</span> <span class="fu">cbind</span>(<span class="fu">contrMat</span>(<span class="fu">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>), <span class="at">type =</span> <span class="st">"Tukey"</span>)) ))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  net_arm_UN_comp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
     Simultaneous Tests for General Linear Hypotheses

Fit: rma.mv(yi = log_sev, V = vi_sev, mods = ~produto, random = list(~produto | 
    factor(ensaio_1)), struct = "HCS", data = dat3, method = "ML", 
    control = list(optimizer = "nlm"))

Linear Hypotheses:
            Estimate Std. Error z value Pr(&gt;|z|)    
2 - 1 == 0 -3.765334   0.118775 -31.701   &lt;0.001 ***
3 - 1 == 0 -4.118857   0.124592 -33.059   &lt;0.001 ***
4 - 1 == 0 -4.053876   0.117879 -34.390   &lt;0.001 ***
5 - 1 == 0 -4.059782   0.116520 -34.842   &lt;0.001 ***
6 - 1 == 0 -3.807976   0.123028 -30.952   &lt;0.001 ***
7 - 1 == 0 -4.133568   0.125541 -32.926   &lt;0.001 ***
8 - 1 == 0 -3.970207   0.119517 -33.219   &lt;0.001 ***
9 - 1 == 0 -3.645086   0.129101 -28.234   &lt;0.001 ***
3 - 2 == 0 -0.353524   0.085017  -4.158   &lt;0.001 ***
4 - 2 == 0 -0.288542   0.065770  -4.387   &lt;0.001 ***
5 - 2 == 0 -0.294449   0.060432  -4.872   &lt;0.001 ***
6 - 2 == 0 -0.042642   0.071895  -0.593   0.9996    
7 - 2 == 0 -0.368234   0.075921  -4.850   &lt;0.001 ***
8 - 2 == 0 -0.204873   0.059376  -3.450   0.0150 *  
9 - 2 == 0  0.120247   0.063046   1.907   0.5910    
4 - 3 == 0  0.064981   0.092164   0.705   0.9986    
5 - 3 == 0  0.059075   0.088075   0.671   0.9990    
6 - 3 == 0  0.310882   0.096471   3.223   0.0322 *  
7 - 3 == 0 -0.014710   0.098800  -0.149   1.0000    
8 - 3 == 0  0.148651   0.088234   1.685   0.7412    
9 - 3 == 0  0.473771   0.093309   5.077   &lt;0.001 ***
5 - 4 == 0 -0.005906   0.070507  -0.084   1.0000    
6 - 4 == 0  0.245900   0.080772   3.044   0.0548 .  
7 - 4 == 0 -0.079692   0.082645  -0.964   0.9878    
8 - 4 == 0  0.083669   0.069501   1.204   0.9518    
9 - 4 == 0  0.408789   0.075987   5.380   &lt;0.001 ***
6 - 5 == 0  0.251806   0.076846   3.277   0.0267 *  
7 - 5 == 0 -0.073785   0.079906  -0.923   0.9908    
8 - 5 == 0  0.089576   0.065480   1.368   0.9024    
9 - 5 == 0  0.414696   0.069942   5.929   &lt;0.001 ***
7 - 6 == 0 -0.325592   0.091728  -3.550   0.0108 *  
8 - 6 == 0 -0.162231   0.075747  -2.142   0.4257    
9 - 6 == 0  0.162889   0.075678   2.152   0.4191    
8 - 7 == 0  0.163361   0.079439   2.056   0.4855    
9 - 7 == 0  0.488481   0.086675   5.636   &lt;0.001 ***
9 - 8 == 0  0.325120   0.068855   4.722   &lt;0.001 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
(Adjusted p values reported -- single-step method)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(net_arm_UN_comp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="sev_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">library</span>(emmeans)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(multcomp)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>meta <span class="ot">&lt;-</span> <span class="fu">emmprep</span>(net_arm_UN_first)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>emmeans_meta <span class="ot">&lt;-</span> <span class="fu">emmeans</span>(meta, <span class="sc">~</span> produto, <span class="at">type =</span> <span class="st">"response"</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>cld_result <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">cld</span>(emmeans_meta, <span class="at">decreasing =</span> <span class="cn">TRUE</span>, <span class="at">Letters =</span> LETTERS))</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>cld_result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                       produto   emmean        SE  df asymp.LCL
7                                      AACHECK 2.884954 0.1007043 Inf  2.687577
3 UNIZEB GOLD (Controle Positivo, multissítio) 2.124821 0.1020948 Inf  1.924719
5                ABACUS HC (Controle Positivo) 2.004574 0.1054163 Inf  1.797962
4                                     PREVINIL 1.961932 0.1201447 Inf  1.726452
8                                      TRIDIUM 1.799701 0.1110315 Inf  1.582083
6                                     FOX XPRO 1.716032 0.1200428 Inf  1.480752
2                                  OSKESTRA SC 1.710125 0.1154649 Inf  1.483818
9                  BELYAN  (Controle Positivo) 1.651050 0.1346971 Inf  1.387049
1                                  trat_A20259 1.636340 0.1239388 Inf  1.393424
  asymp.UCL .group
7  3.082331   A   
3  2.324923    B  
5  2.211186    B  
4  2.197411    BC 
8  2.017319     CD
6  1.951311     CD
2  1.936432      D
9  1.915052      D
1  1.879255      D</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a> efficacy_index <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">cbind</span>(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>   (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(net_arm_UN_first<span class="sc">$</span>b)) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>   (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(net_arm_UN_first<span class="sc">$</span>ci.lb)) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>   (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(net_arm_UN_first<span class="sc">$</span>ci.ub)) <span class="sc">*</span> <span class="dv">100</span>))</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co"># #Organize the data.frame</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a> efficacy_index <span class="ot">=</span> efficacy_index</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>   <span class="fu">names</span> (efficacy_index) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"efficacy"</span>, <span class="st">"efficacy_up"</span>, <span class="st">"efficacy_lw"</span>)</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>efficacy_index <span class="ot">&lt;-</span> efficacy_index <span class="sc">|&gt;</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">fungicide =</span> <span class="fu">c</span>(<span class="st">"check"</span>, <span class="st">"ABACUSHC"</span>, <span class="st">"BAS75302F"</span>, <span class="st">"FOX XPRO"</span>, <span class="st">"OSKESTRASC"</span>, <span class="st">"PREVINIL"</span>, <span class="st">"A20259"</span>, <span class="st">"TRIDIUM"</span>, <span class="st">"UNIZEBGOLD"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(fungicide <span class="sc">!=</span> <span class="st">"check"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(fungicide, efficacy, efficacy_lw, efficacy_up)</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>efficacy_index</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                     fungicide efficacy
produtoABACUS HC (Controle Positivo)                  ABACUSHC 58.53746
produtoBELYAN  (Controle Positivo)                   BAS75302F 70.88462
produtoFOX XPRO                                       FOX XPRO 68.92984
produtoOSKESTRA SC                                  OSKESTRASC 69.11280
produtoPREVINIL                                       PREVINIL 60.26834
produtotrat_A20259                                      A20259 71.30978
produtoTRIDIUM                                         TRIDIUM 66.21836
produtoUNIZEB GOLD (Controle Positivo, multissítio) UNIZEBGOLD 53.23956
                                                    efficacy_lw efficacy_up
produtoABACUS HC (Controle Positivo)                   54.29658    62.38482
produtoBELYAN  (Controle Positivo)                     65.82143    75.19775
produtoFOX XPRO                                        64.82324    72.55702
produtoOSKESTRA SC                                     65.42410    72.40798
produtoPREVINIL                                        54.59083    65.23600
produtotrat_A20259                                     66.85670    75.16455
produtoTRIDIUM                                         62.28042    69.74518
produtoUNIZEB GOLD (Controle Positivo, multissítio)    47.57479    58.29224</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_xlsx</span>(efficacy_index, <span class="st">"efficacy_res.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Disease pressure</p>
<p>Median</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co">#linha de base</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>AACHECK <span class="ot">=</span> dat1 <span class="sc">|&gt;</span> <span class="fu">filter</span>(produto <span class="sc">==</span> <span class="st">"AACHECK"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(AACHECK)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  municipio         bloco     ensaio_1                            produto   
 Length:304         1:78   5      :  4   AACHECK                      :304  
 Class :character   2:78   6      :  4   ABACUS HC (Controle Positivo):  0  
 Mode  :character   3:78   7      :  4   BELYAN  (Controle Positivo)  :  0  
                    4:70   8      :  4   FOX XPRO                     :  0  
                           9      :  4   OSKESTRA SC                  :  0  
                           10     :  4   PREVINIL                     :  0  
                           (Other):280   (Other)                      :  0  
      ano          estado             regiao             mean_sev    
 Min.   :2016   Length:304         Length:304         Min.   : 0.60  
 1st Qu.:2019   Class :character   Class :character   1st Qu.:12.68  
 Median :2021   Mode  :character   Mode  :character   Median :21.35  
 Mean   :2021                                         Mean   :23.45  
 3rd Qu.:2022                                         3rd Qu.:30.50  
 Max.   :2024                                         Max.   :80.00  
                                                                     
   mean_prod    
 Min.   : 3414  
 1st Qu.: 5062  
 Median : 6124  
 Mean   : 6536  
 3rd Qu.: 7729  
 Max.   :12361  
 NA's   :186    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>med_sev <span class="ot">&lt;-</span> dat3 <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sev_check_class =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>      mean_sev <span class="sc">&lt;</span> <span class="dv">21</span> <span class="sc">~</span> <span class="st">"low"</span>,</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>      mean_sev <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">~</span> <span class="st">"high"</span>))</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>med_sev <span class="sc">%&gt;%</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(produto, sev_check_class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                      produto high low
                                      AACHECK   43  35
                ABACUS HC (Controle Positivo)    7  58
                  BELYAN  (Controle Positivo)    1  32
                                     FOX XPRO    3  46
                                  OSKESTRA SC    2  58
                                     PREVINIL    3  31
                                  trat_A20259    1  34
                                      TRIDIUM    3  50
 UNIZEB GOLD (Controle Positivo, multissítio)    5  33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>model_mm <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>   log_sev ,</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>   vi_sev,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>   <span class="at">mods =</span> <span class="sc">~</span> produto <span class="sc">*</span> <span class="fu">factor</span>(sev_check_class),</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>   <span class="at">method =</span> <span class="st">"ML"</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>   <span class="at">random =</span> <span class="fu">list</span>( <span class="sc">~</span> produto <span class="sc">|</span> <span class="fu">factor</span>(ensaio_1)),</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>   <span class="at">struct =</span> <span class="st">"HCS"</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>   <span class="at">control =</span> <span class="fu">list</span>(<span class="at">optimizer =</span> <span class="st">"nlm"</span>),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>   <span class="at">data =</span> med_sev)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(model_mm, <span class="at">btt =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Test of Moderators (coefficients 5:6):
QM(df = 2) = 16.9409, p-val = 0.0002</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">summary</span>(model_mm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Multivariate Meta-Analysis Model (k = 445; method: ML)

   logLik   Deviance        AIC        BIC       AICc   
-282.6962  1565.7268   621.3925   736.1385   625.2963   

Variance Components:

outer factor: factor(ensaio_1) (nlvls = 78)
inner factor: produto          (nlvls = 9)

            estim    sqrt  k.lvl  fixed 
tau^2.1    0.6387  0.7992     78     no 
tau^2.2    0.6848  0.8275     65     no 
tau^2.3    0.9652  0.9825     33     no 
tau^2.4    0.8226  0.9070     49     no 
tau^2.5    0.8405  0.9168     60     no 
tau^2.6    0.8680  0.9317     34     no 
tau^2.7    0.7967  0.8926     35     no 
tau^2.8    0.7927  0.8903     53     no 
tau^2.9    0.6040  0.7772     38     no 
rho        0.9155                    no 
                                                  level 
tau^2.1                                         AACHECK 
tau^2.2                   ABACUS HC (Controle Positivo) 
tau^2.3                     BELYAN  (Controle Positivo) 
tau^2.4                                        FOX XPRO 
tau^2.5                                     OSKESTRA SC 
tau^2.6                                        PREVINIL 
tau^2.7                                     trat_A20259 
tau^2.8                                         TRIDIUM 
tau^2.9    UNIZEB GOLD (Controle Positivo, multissítio) 
rho                                                     

Test for Residual Heterogeneity:
QE(df = 427) = 29490.0831, p-val &lt; .0001

Test of Moderators (coefficients 2:18):
QM(df = 17) = 970.5456, p-val &lt; .0001

Model Results:

                                                                                estimate 
intrcpt                                                                           2.9976 
produtoABACUS HC (Controle Positivo)                                             -0.4736 
produtoBELYAN  (Controle Positivo)                                               -0.6112 
produtoFOX XPRO                                                                  -0.5566 
produtoOSKESTRA SC                                                               -0.6313 
produtoPREVINIL                                                                  -0.6308 
produtotrat_A20259                                                               -0.5461 
produtoTRIDIUM                                                                   -0.7534 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                              -0.4902 
factor(sev_check_class)low                                                       -0.2493 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                  -0.3280 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                    -0.5213 
produtoFOX XPRO:factor(sev_check_class)low                                       -0.5292 
produtoOSKESTRA SC:factor(sev_check_class)low                                    -0.4323 
produtoPREVINIL:factor(sev_check_class)low                                       -0.1815 
produtotrat_A20259:factor(sev_check_class)low                                    -0.6202 
produtoTRIDIUM:factor(sev_check_class)low                                        -0.2120 
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low   -0.1662 
                                                                                    se 
intrcpt                                                                         0.0954 
produtoABACUS HC (Controle Positivo)                                            0.1181 
produtoBELYAN  (Controle Positivo)                                              0.3341 
produtoFOX XPRO                                                                 0.1774 
produtoOSKESTRA SC                                                              0.2217 
produtoPREVINIL                                                                 0.1858 
produtotrat_A20259                                                              0.2918 
produtoTRIDIUM                                                                  0.1807 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                             0.1351 
factor(sev_check_class)low                                                      0.0664 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                 0.1330 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                   0.3449 
produtoFOX XPRO:factor(sev_check_class)low                                      0.1908 
produtoOSKESTRA SC:factor(sev_check_class)low                                   0.2310 
produtoPREVINIL:factor(sev_check_class)low                                      0.2015 
produtotrat_A20259:factor(sev_check_class)low                                   0.3022 
produtoTRIDIUM:factor(sev_check_class)low                                       0.1923 
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low  0.1523 
                                                                                   zval 
intrcpt                                                                         31.4095 
produtoABACUS HC (Controle Positivo)                                            -4.0090 
produtoBELYAN  (Controle Positivo)                                              -1.8294 
produtoFOX XPRO                                                                 -3.1372 
produtoOSKESTRA SC                                                              -2.8470 
produtoPREVINIL                                                                 -3.3951 
produtotrat_A20259                                                              -1.8715 
produtoTRIDIUM                                                                  -4.1700 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                             -3.6286 
factor(sev_check_class)low                                                      -3.7566 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                 -2.4666 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                   -1.5116 
produtoFOX XPRO:factor(sev_check_class)low                                      -2.7732 
produtoOSKESTRA SC:factor(sev_check_class)low                                   -1.8716 
produtoPREVINIL:factor(sev_check_class)low                                      -0.9006 
produtotrat_A20259:factor(sev_check_class)low                                   -2.0525 
produtoTRIDIUM:factor(sev_check_class)low                                       -1.1026 
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low  -1.0910 
                                                                                  pval 
intrcpt                                                                         &lt;.0001 
produtoABACUS HC (Controle Positivo)                                            &lt;.0001 
produtoBELYAN  (Controle Positivo)                                              0.0673 
produtoFOX XPRO                                                                 0.0017 
produtoOSKESTRA SC                                                              0.0044 
produtoPREVINIL                                                                 0.0007 
produtotrat_A20259                                                              0.0613 
produtoTRIDIUM                                                                  &lt;.0001 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                             0.0003 
factor(sev_check_class)low                                                      0.0002 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                 0.0136 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                   0.1306 
produtoFOX XPRO:factor(sev_check_class)low                                      0.0056 
produtoOSKESTRA SC:factor(sev_check_class)low                                   0.0613 
produtoPREVINIL:factor(sev_check_class)low                                      0.3678 
produtotrat_A20259:factor(sev_check_class)low                                   0.0401 
produtoTRIDIUM:factor(sev_check_class)low                                       0.2702 
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low  0.2753 
                                                                                  ci.lb 
intrcpt                                                                          2.8105 
produtoABACUS HC (Controle Positivo)                                            -0.7051 
produtoBELYAN  (Controle Positivo)                                              -1.2661 
produtoFOX XPRO                                                                 -0.9043 
produtoOSKESTRA SC                                                              -1.0658 
produtoPREVINIL                                                                 -0.9950 
produtotrat_A20259                                                              -1.1180 
produtoTRIDIUM                                                                  -1.1075 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                             -0.7550 
factor(sev_check_class)low                                                      -0.3794 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                 -0.5886 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                   -1.1973 
produtoFOX XPRO:factor(sev_check_class)low                                      -0.9031 
produtoOSKESTRA SC:factor(sev_check_class)low                                   -0.8851 
produtoPREVINIL:factor(sev_check_class)low                                      -0.5765 
produtotrat_A20259:factor(sev_check_class)low                                   -1.2125 
produtoTRIDIUM:factor(sev_check_class)low                                       -0.5890 
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low  -0.4646 
                                                                                  ci.ub 
intrcpt                                                                          3.1846 
produtoABACUS HC (Controle Positivo)                                            -0.2421 
produtoBELYAN  (Controle Positivo)                                               0.0436 
produtoFOX XPRO                                                                 -0.2089 
produtoOSKESTRA SC                                                              -0.1967 
produtoPREVINIL                                                                 -0.2667 
produtotrat_A20259                                                               0.0258 
produtoTRIDIUM                                                                  -0.3993 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                             -0.2254 
factor(sev_check_class)low                                                      -0.1192 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                 -0.0674 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                    0.1546 
produtoFOX XPRO:factor(sev_check_class)low                                      -0.1552 
produtoOSKESTRA SC:factor(sev_check_class)low                                    0.0204 
produtoPREVINIL:factor(sev_check_class)low                                       0.2135 
produtotrat_A20259:factor(sev_check_class)low                                   -0.0280 
produtoTRIDIUM:factor(sev_check_class)low                                        0.1649 
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low   0.1323 
                                                                                    
intrcpt                                                                         *** 
produtoABACUS HC (Controle Positivo)                                            *** 
produtoBELYAN  (Controle Positivo)                                                . 
produtoFOX XPRO                                                                  ** 
produtoOSKESTRA SC                                                               ** 
produtoPREVINIL                                                                 *** 
produtotrat_A20259                                                                . 
produtoTRIDIUM                                                                  *** 
produtoUNIZEB GOLD (Controle Positivo, multissítio)                             *** 
factor(sev_check_class)low                                                      *** 
produtoABACUS HC (Controle Positivo):factor(sev_check_class)low                   * 
produtoBELYAN  (Controle Positivo):factor(sev_check_class)low                       
produtoFOX XPRO:factor(sev_check_class)low                                       ** 
produtoOSKESTRA SC:factor(sev_check_class)low                                     . 
produtoPREVINIL:factor(sev_check_class)low                                          
produtotrat_A20259:factor(sev_check_class)low                                     * 
produtoTRIDIUM:factor(sev_check_class)low                                           
produtoUNIZEB GOLD (Controle Positivo, multissítio):factor(sev_check_class)low      

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(med_sev<span class="sc">$</span>produto, med_sev<span class="sc">$</span>sev_check_class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                              
                                               high low
  AACHECK                                        43  35
  ABACUS HC (Controle Positivo)                   7  58
  BELYAN  (Controle Positivo)                     1  32
  FOX XPRO                                        3  46
  OSKESTRA SC                                     2  58
  PREVINIL                                        3  31
  trat_A20259                                     1  34
  TRIDIUM                                         3  50
  UNIZEB GOLD (Controle Positivo, multissítio)    5  33</code></pre>
</div>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">#openxlsx::write.xlsx(efficacy_index, here("efficacy_class.xlsx"), colNames = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>#organizando a saida do modelo</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>reg1 <span class="ot">=</span> <span class="fu">data.frame</span>(model_mm<span class="sc">$</span>beta, model_mm<span class="sc">$</span>se, model_mm<span class="sc">$</span>ci.lb, model_mm<span class="sc">$</span>ci.ub) <span class="sc">%&gt;%</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rownames_to_column</span>(<span class="st">"trat"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(trat, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"lado1"</span>, <span class="st">"lado2"</span>), <span class="at">sep =</span> <span class="st">":"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(lado2, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"lixo"</span>,<span class="st">"lado3"</span>),<span class="at">sep =</span> <span class="st">"sev_check_class"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>lixo) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(lado1, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"lixo"</span>,<span class="st">"lado1"</span>),<span class="at">sep =</span> <span class="st">"produto"</span> ) <span class="sc">%&gt;%</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>lixo) <span class="sc">%&gt;%</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(lado1 <span class="sc">!=</span> <span class="st">"NA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> <span class="fu">seq</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>))</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(reg1) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"fungicide"</span>, <span class="st">"class"</span>, <span class="st">"mean"</span>, <span class="st">"se"</span>, <span class="st">"ci.lb"</span>, <span class="st">"ci.ub"</span>, <span class="st">"n"</span>)  </span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>reg2 <span class="ot">=</span> reg1 <span class="sc">%&gt;%</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&lt;</span> <span class="dv">9</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">rep</span>(<span class="st">"High"</span>, <span class="fu">length</span>(fungicide)))</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>reg3 <span class="ot">=</span> reg1 <span class="sc">%&gt;%</span> </span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">8</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">rep</span>(<span class="st">"Low"</span>, <span class="fu">length</span>(fungicide)))</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>reg4 <span class="ot">=</span> <span class="fu">rbind</span>(reg2,reg3)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>#aqui teve que calcular o lower por que o modelo da o lower com base no hight</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>mean <span class="ot">=</span> reg4<span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fungicide) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(class, mean) <span class="sc">%&gt;%</span> </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mean =</span> High <span class="sc">+</span> Low) <span class="sc">%&gt;%</span> </span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">4</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>se <span class="ot">=</span> reg4<span class="sc">%&gt;%</span> </span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fungicide) <span class="sc">%&gt;%</span> </span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(class, se) <span class="sc">%&gt;%</span> </span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">se =</span> High <span class="sc">+</span> Low) <span class="sc">%&gt;%</span> </span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">4</span>)</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>lower <span class="ot">=</span> reg4<span class="sc">%&gt;%</span> </span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fungicide) <span class="sc">%&gt;%</span> </span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(class, ci.lb) <span class="sc">%&gt;%</span> </span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lower =</span> High <span class="sc">+</span> Low) <span class="sc">%&gt;%</span>  </span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">4</span>)</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>upper <span class="ot">=</span> reg4<span class="sc">%&gt;%</span> </span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(fungicide) <span class="sc">%&gt;%</span> </span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">6</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(class, ci.ub) <span class="sc">%&gt;%</span> </span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">upper =</span> High <span class="sc">+</span> Low) <span class="sc">%&gt;%</span> </span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span>,<span class="dv">4</span>)</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>reg5 <span class="ot">=</span> <span class="fu">left_join</span>(mean, lower, <span class="at">by=</span> <span class="fu">c</span>(<span class="st">"fungicide"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(upper, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"fungicide"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(se, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"fungicide"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">rep</span>(<span class="st">"Low"</span>, <span class="fu">length</span>(<span class="st">"fungicide"</span>))) <span class="sc">%&gt;%</span> </span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="st">"fungicide"</span>, <span class="st">"class"</span>, <span class="st">"mean"</span>, <span class="st">"lower"</span>, <span class="st">"upper"</span>, <span class="st">"se"</span>)</span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-39"><a href="#cb32-39" aria-hidden="true" tabindex="-1"></a>High <span class="ot">=</span> reg4 <span class="sc">%&gt;%</span> </span>
<span id="cb32-40"><a href="#cb32-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(class <span class="sc">==</span> <span class="st">"High"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb32-41"><a href="#cb32-41" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)</span>
<span id="cb32-42"><a href="#cb32-42" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(High) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"fungicide"</span>, <span class="st">"class"</span>, <span class="st">"mean"</span>,<span class="st">"se"</span>, <span class="st">"lower"</span>, <span class="st">"upper"</span>) </span>
<span id="cb32-43"><a href="#cb32-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-44"><a href="#cb32-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-45"><a href="#cb32-45" aria-hidden="true" tabindex="-1"></a>reg6 <span class="ot">=</span> <span class="fu">full_join</span>(High,reg5)</span>
<span id="cb32-46"><a href="#cb32-46" aria-hidden="true" tabindex="-1"></a><span class="co">#openxlsx::write.xlsx(reg6, here("sev_baseline.xlsx"), colNames = TRUE)</span></span>
<span id="cb32-47"><a href="#cb32-47" aria-hidden="true" tabindex="-1"></a> efficacy_index <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">cbind</span>(</span>
<span id="cb32-48"><a href="#cb32-48" aria-hidden="true" tabindex="-1"></a>   (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(reg6<span class="sc">$</span>mean)) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-49"><a href="#cb32-49" aria-hidden="true" tabindex="-1"></a>   (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(reg6<span class="sc">$</span>lower)) <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb32-50"><a href="#cb32-50" aria-hidden="true" tabindex="-1"></a>   (<span class="dv">1</span> <span class="sc">-</span> <span class="fu">exp</span>(reg6<span class="sc">$</span>upper)) <span class="sc">*</span> <span class="dv">100</span>),</span>
<span id="cb32-51"><a href="#cb32-51" aria-hidden="true" tabindex="-1"></a>   (reg6<span class="sc">$</span>class),(reg6<span class="sc">$</span>fungicide))</span>
<span id="cb32-52"><a href="#cb32-52" aria-hidden="true" tabindex="-1"></a><span class="co">#openxlsx::write.xlsx(efficacy_index, here("efficacy_class.xlsx"), colNames = TRUE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Design groups</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>med_sev1 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">produto =</span> <span class="fu">paste</span>(produto, <span class="at">collapse=</span><span class="st">';'</span>))</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>med_sev1 <span class="sc">%&gt;%</span> </span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(produto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                                                                                                                     produto
                                 AACHECK;ABACUS HC (Controle Positivo);BELYAN  (Controle Positivo);FOX XPRO;OSKESTRA SC;PREVINIL;trat_A20259
                                  AACHECK;ABACUS HC (Controle Positivo);BELYAN  (Controle Positivo);FOX XPRO;OSKESTRA SC;trat_A20259;TRIDIUM
 AACHECK;ABACUS HC (Controle Positivo);BELYAN  (Controle Positivo);OSKESTRA SC;PREVINIL;TRIDIUM;UNIZEB GOLD (Controle Positivo, multissítio)
                    AACHECK;ABACUS HC (Controle Positivo);FOX XPRO;OSKESTRA SC;PREVINIL;TRIDIUM;UNIZEB GOLD (Controle Positivo, multissítio)
                                                              AACHECK;ABACUS HC (Controle Positivo);FOX XPRO;OSKESTRA SC;trat_A20259;TRIDIUM
                                AACHECK;ABACUS HC (Controle Positivo);FOX XPRO;PREVINIL;TRIDIUM;UNIZEB GOLD (Controle Positivo, multissítio)
                                              AACHECK;ABACUS HC (Controle Positivo);OSKESTRA SC;UNIZEB GOLD (Controle Positivo, multissítio)
                                                                                                         AACHECK;BELYAN  (Controle Positivo)
                                                                               AACHECK;PREVINIL;UNIZEB GOLD (Controle Positivo, multissítio)
  n    percent
  4 0.05128205
 16 0.20512821
  8 0.10256410
  9 0.11538462
 15 0.19230769
  5 0.06410256
  8 0.10256410
  5 0.06410256
  8 0.10256410</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(med_sev1<span class="sc">$</span>produto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
                                AACHECK;ABACUS HC (Controle Positivo);BELYAN  (Controle Positivo);FOX XPRO;OSKESTRA SC;PREVINIL;trat_A20259 
                                                                                                                                          4 
                                 AACHECK;ABACUS HC (Controle Positivo);BELYAN  (Controle Positivo);FOX XPRO;OSKESTRA SC;trat_A20259;TRIDIUM 
                                                                                                                                         16 
AACHECK;ABACUS HC (Controle Positivo);BELYAN  (Controle Positivo);OSKESTRA SC;PREVINIL;TRIDIUM;UNIZEB GOLD (Controle Positivo, multissítio) 
                                                                                                                                          8 
                   AACHECK;ABACUS HC (Controle Positivo);FOX XPRO;OSKESTRA SC;PREVINIL;TRIDIUM;UNIZEB GOLD (Controle Positivo, multissítio) 
                                                                                                                                          9 
                                                             AACHECK;ABACUS HC (Controle Positivo);FOX XPRO;OSKESTRA SC;trat_A20259;TRIDIUM 
                                                                                                                                         15 
                               AACHECK;ABACUS HC (Controle Positivo);FOX XPRO;PREVINIL;TRIDIUM;UNIZEB GOLD (Controle Positivo, multissítio) 
                                                                                                                                          5 
                                             AACHECK;ABACUS HC (Controle Positivo);OSKESTRA SC;UNIZEB GOLD (Controle Positivo, multissítio) 
                                                                                                                                          8 
                                                                                                        AACHECK;BELYAN  (Controle Positivo) 
                                                                                                                                          5 
                                                                              AACHECK;PREVINIL;UNIZEB GOLD (Controle Positivo, multissítio) 
                                                                                                                                          8 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#repete 7 vezes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>#D1 #conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>med_sev <span class="ot">&lt;-</span> med_sev <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n2 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">!=</span> <span class="dv">1</span>)</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>design1 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"ABACUS HC (Controle Positivo)"</span>, <span class="st">"BELYAN  (Controle Positivo)"</span>, <span class="st">"FOX XPRO"</span>, <span class="st">"OSKESTRA SC"</span>, <span class="st">"PREVINIL"</span>, <span class="st">"trat_A20259"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">7</span>)</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>design1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 14
# Groups:   ensaio_1 [4]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Cafelând… Sul    22       AACHECK  2018    21.7   9.01      4   3.08  0.00478
 2 Cafelând… Sul    22       ABACUS…  2018    10.9   9.01      4   2.39  0.0191 
 3 Cafelând… Sul    22       BELYAN…  2018     5.82  9.01      4   1.76  0.0664 
 4 Cafelând… Sul    22       FOX XP…  2018     9.6   9.01      4   2.26  0.0244 
 5 Cafelând… Sul    22       OSKEST…  2018     8.85  9.01      4   2.18  0.0288 
 6 Cafelând… Sul    22       PREVIN…  2018     9.12  9.01      4   2.21  0.0271 
 7 Cafelând… Sul    22       trat_A…  2018     8.2   9.01      4   2.10  0.0335 
 8 Cafelând… Sul    23       AACHECK  2018     5.65  0.178     4   1.73  0.00140
 9 Cafelând… Sul    23       ABACUS…  2018     1.62  0.178     4   0.486 0.0169 
10 Cafelând… Sul    23       BELYAN…  2018     0.7   0.178     4  -0.357 0.0910 
# ℹ 18 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D2 #conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>design2 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"ABACUS HC (Controle Positivo)"</span>, <span class="st">"BELYAN  (Controle Positivo)"</span>, <span class="st">"FOX XPRO"</span>, <span class="st">"OSKESTRA SC"</span>, <span class="st">"TRIDIUM"</span>, <span class="st">"trat_A20259"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">2</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">7</span>)</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>design2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 112 × 14
# Groups:   ensaio_1 [16]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Anápolis  Centr… 48       AACHECK  2020   33.4   2.73       4  3.51   6.14e-4
 2 Anápolis  Centr… 48       ABACUS…  2020   12.4   2.73       4  2.51   4.48e-3
 3 Anápolis  Centr… 48       BELYAN…  2020   12.1   2.73       4  2.49   4.66e-3
 4 Anápolis  Centr… 48       FOX XP…  2020   11.4   2.73       4  2.43   5.30e-3
 5 Anápolis  Centr… 48       OSKEST…  2020   11.1   2.73       4  2.41   5.54e-3
 6 Anápolis  Centr… 48       trat_A…  2020   11.8   2.73       4  2.47   4.86e-3
 7 Anápolis  Centr… 48       TRIDIUM  2020   14.1   2.73       4  2.65   3.43e-3
 8 Arapongas Sul    27       AACHECK  2019    4.95  0.0929     4  1.60   9.47e-4
 9 Arapongas Sul    27       ABACUS…  2019    0.975 0.0929     4 -0.0253 2.44e-2
10 Arapongas Sul    27       BELYAN…  2019    0.45  0.0929     4 -0.799  1.15e-1
# ℹ 102 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D3 #conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>design3 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"ABACUS HC (Controle Positivo)"</span>, <span class="st">"FOX XPRO"</span>, <span class="st">"OSKESTRA SC"</span>, <span class="st">"PREVINIL"</span>,<span class="st">"TRIDIUM"</span>, <span class="st">"UNIZEB GOLD (Controle Positivo, multissítio)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">3</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">7</span>)</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>design3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 63 × 14
# Groups:   ensaio_1 [9]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Cafelând… Sul    66       AACHECK  2023    13.4    3.54     4   2.59  4.97e-3
 2 Cafelând… Sul    66       ABACUS…  2023     3.85   3.54     4   1.35  5.98e-2
 3 Cafelând… Sul    66       FOX XP…  2023     5.1    3.54     4   1.63  3.41e-2
 4 Cafelând… Sul    66       OSKEST…  2023     3.1    3.54     4   1.13  9.22e-2
 5 Cafelând… Sul    66       PREVIN…  2023     4.1    3.54     4   1.41  5.27e-2
 6 Cafelând… Sul    66       TRIDIUM  2023     4.1    3.54     4   1.41  5.27e-2
 7 Cafelând… Sul    66       UNIZEB…  2023     2.6    3.54     4   0.956 1.31e-1
 8 Campo Mo… Sul    65       AACHECK  2023    40.5    2.93     4   3.70  4.47e-4
 9 Campo Mo… Sul    65       ABACUS…  2023    10.1    2.93     4   2.31  7.18e-3
10 Campo Mo… Sul    65       FOX XP…  2023    11.6    2.93     4   2.45  5.47e-3
# ℹ 53 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D4 #conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>design4 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"ABACUS HC (Controle Positivo)"</span>, <span class="st">"FOX XPRO"</span>, <span class="st">"PREVINIL"</span>,<span class="st">"TRIDIUM"</span>, <span class="st">"UNIZEB GOLD (Controle Positivo, multissítio)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">4</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">6</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>design4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 14
# Groups:   ensaio_1 [5]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Guarapua… Sul    73       AACHECK  2024    17.6    11.9     4    2.87 0.00962
 2 Guarapua… Sul    73       ABACUS…  2024     5.38   11.9     4    1.68 0.103  
 3 Guarapua… Sul    73       FOX XP…  2024     3.12   11.9     4    1.14 0.305  
 4 Guarapua… Sul    73       PREVIN…  2024     6.62   11.9     4    1.89 0.0679 
 5 Guarapua… Sul    73       TRIDIUM  2024     6.5    11.9     4    1.87 0.0706 
 6 Guarapua… Sul    73       UNIZEB…  2024     7.62   11.9     4    2.03 0.0513 
 7 Lavras    Sudes… 75       AACHECK  2024    10.1    17.9     4    2.31 0.0439 
 8 Lavras    Sudes… 75       ABACUS…  2024    10.1    17.9     4    2.31 0.0439 
 9 Lavras    Sudes… 75       FOX XP…  2024     5.1    17.9     4    1.63 0.172  
10 Lavras    Sudes… 75       PREVIN…  2024     7.6    17.9     4    2.03 0.0775 
# ℹ 20 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D5 conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>design5 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"ABACUS HC (Controle Positivo)"</span>,<span class="st">"BELYAN  (Controle Positivo)"</span>, <span class="st">"OSKESTRA SC"</span>, <span class="st">"PREVINIL"</span>,<span class="st">"TRIDIUM"</span>, <span class="st">"UNIZEB GOLD (Controle Positivo, multissítio)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">5</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">7</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">7</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>design5</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 × 14
# Groups:   ensaio_1 [8]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Cafelând… Sul    58       AACHECK  2022    26.4    1.79     4    3.27 6.44e-4
 2 Cafelând… Sul    58       ABACUS…  2022    13.4    1.79     4    2.59 2.51e-3
 3 Cafelând… Sul    58       BELYAN…  2022     7.6    1.79     4    2.03 7.75e-3
 4 Cafelând… Sul    58       OSKEST…  2022     8.85   1.79     4    2.18 5.71e-3
 5 Cafelând… Sul    58       PREVIN…  2022    12.6    1.79     4    2.53 2.82e-3
 6 Cafelând… Sul    58       TRIDIUM  2022    12.4    1.79     4    2.51 2.93e-3
 7 Cafelând… Sul    58       UNIZEB…  2022    12.8    1.79     4    2.55 2.71e-3
 8 Campo Mo… Sul    57       AACHECK  2022    18.6   16.6      4    2.92 1.21e-2
 9 Campo Mo… Sul    57       ABACUS…  2022    14.5   16.6      4    2.68 1.97e-2
10 Campo Mo… Sul    57       BELYAN…  2022    16.4   16.6      4    2.80 1.54e-2
# ℹ 46 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D6 #conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>design6 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"ABACUS HC (Controle Positivo)"</span>, <span class="st">"OSKESTRA SC"</span>, <span class="st">"UNIZEB GOLD (Controle Positivo, multissítio)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">6</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">4</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">4</span>)</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>design6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 32 × 14
# Groups:   ensaio_1 [8]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Campo Mo… Sul    82       AACHECK  2017     30.1  26.9      3    3.40 0.00988
 2 Campo Mo… Sul    82       ABACUS…  2017     20.1  26.9      3    3.00 0.0222 
 3 Campo Mo… Sul    82       OSKEST…  2017     17.8  26.9      3    2.88 0.0284 
 4 Campo Mo… Sul    82       UNIZEB…  2017     26.8  26.9      3    3.29 0.0125 
 5 Campo Mo… Sul    83       AACHECK  2017     30.4   8.67     3    3.42 0.00312
 6 Campo Mo… Sul    83       ABACUS…  2017     10.1   8.67     3    2.31 0.0283 
 7 Campo Mo… Sul    83       OSKEST…  2017      8.1   8.67     3    2.09 0.0440 
 8 Campo Mo… Sul    83       UNIZEB…  2017     19.1   8.67     3    2.95 0.00792
 9 Campo Mo… Sul    86       AACHECK  2016     25.1   6.25     3    3.22 0.00331
10 Campo Mo… Sul    86       ABACUS…  2016      4.1   6.25     3    1.41 0.124  
# ℹ 22 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D7 #Conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>design7 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"PREVINIL"</span>, <span class="st">"UNIZEB GOLD (Controle Positivo, multissítio)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">7</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">3</span>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>design7</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 14
# Groups:   ensaio_1 [8]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Arapongas Sul    6        AACHECK  2021    3.72   0.498     4   1.32  0.00897
 2 Arapongas Sul    6        PREVIN…  2021    0.425  0.498     4  -0.856 0.689  
 3 Arapongas Sul    6        UNIZEB…  2021    0.225  0.498     4  -1.49  2.46   
 4 Bandeira… Centr… 9        AACHECK  2021    6.6    1.48      4   1.89  0.00852
 5 Bandeira… Centr… 9        PREVIN…  2021    0.5    1.48      4  -0.693 1.48   
 6 Bandeira… Centr… 9        UNIZEB…  2021    0.725  1.48      4  -0.322 0.706  
 7 Bandeira… Sul    7        AACHECK  2021   31.4   40.6       4   3.45  0.0103 
 8 Bandeira… Sul    7        PREVIN…  2021   14.1   40.6       4   2.65  0.0511 
 9 Bandeira… Sul    7        UNIZEB…  2021   12.1   40.6       4   2.49  0.0694 
10 Capão Bo… Sudes… 8        AACHECK  2021   20.0    5.18      4   3.00  0.00323
# ℹ 14 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D8 #Conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>design8 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"AACHECK"</span>, <span class="st">"BELYAN  (Controle Positivo)"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">8</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">2</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">2</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>design8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 14
# Groups:   ensaio_1 [5]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Lavras    Sudes… 13       AACHECK  2023    22.1   64.1      4    3.10 0.0328 
 2 Lavras    Sudes… 13       BELYAN…  2023     3.3   64.1      4    1.19 1.47   
 3 Patrocín… Sudes… 12       AACHECK  2023    30.7    6.90     4    3.43 0.00183
 4 Patrocín… Sudes… 12       BELYAN…  2023    16.5    6.90     4    2.80 0.00632
 5 Ponta Gr… Sul    11       AACHECK  2023    64.6   67.1      4    4.17 0.00402
 6 Ponta Gr… Sul    11       BELYAN…  2023    16.8   67.1      4    2.82 0.0591 
 7 Rio Verde Centr… 14       AACHECK  2023    14.0    1.65     4    2.64 0.00210
 8 Rio Verde Centr… 14       BELYAN…  2023     6.48   1.65     4    1.87 0.00987
 9 São Migu… Centr… 15       AACHECK  2023    26.7   16.9      4    3.29 0.00590
10 São Migu… Centr… 15       BELYAN…  2023    13.8   16.9      4    2.63 0.0220 
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#D9 #Conferido</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>design9 <span class="ot">=</span> med_sev <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1) <span class="sc">%&gt;%</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(produto  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">'AACHECK'</span>, <span class="st">'ABACUS HC (Controle Positivo)'</span>,<span class="st">'FOX XPRO'</span>, <span class="st">'OSKESTRA SC'</span>,<span class="st">'trat_A20259'</span>, <span class="st">'TRIDIUM'</span>))<span class="sc">%&gt;%</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n3 =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">design =</span> <span class="fu">rep</span>(<span class="dv">9</span>, <span class="fu">length</span>(produto))) <span class="sc">%&gt;%</span> </span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n2 <span class="sc">==</span> <span class="dv">6</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(n3 <span class="sc">==</span> <span class="dv">6</span>)</span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>design9</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 90 × 14
# Groups:   ensaio_1 [15]
   municipio regiao ensaio_1 produto   ano mean_sev mean_V     n log_sev  vi_sev
   &lt;chr&gt;     &lt;chr&gt;  &lt;fct&gt;    &lt;fct&gt;   &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt; &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Araponga… Sul    41       AACHECK  2020   22.8   4.53       4   3.13  0.00218
 2 Araponga… Sul    41       ABACUS…  2020    1.98  4.53       4   0.681 0.290  
 3 Araponga… Sul    41       FOX XP…  2020    1.42  4.53       4   0.354 0.558  
 4 Araponga… Sul    41       OSKEST…  2020    2.58  4.53       4   0.946 0.171  
 5 Araponga… Sul    41       trat_A…  2020    2.62  4.53       4   0.965 0.164  
 6 Araponga… Sul    41       TRIDIUM  2020    2.72  4.53       4   1.00  0.153  
 7 Assaí     Sul    34       AACHECK  2019    0.85  0.0168     4  -0.163 0.00581
 8 Assaí     Sul    34       ABACUS…  2019    0.725 0.0168     4  -0.322 0.00798
 9 Assaí     Sul    34       FOX XP…  2019    0.55  0.0168     4  -0.598 0.0139 
10 Assaí     Sul    34       OSKEST…  2019    0.6   0.0168     4  -0.511 0.0117 
# ℹ 80 more rows
# ℹ 4 more variables: sev_check_class &lt;chr&gt;, n2 &lt;int&gt;, n3 &lt;int&gt;, design &lt;dbl&gt;</code></pre>
</div>
</div>
<p>#juntando os design</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>sev_design <span class="ot">=</span> <span class="fu">rbind</span>(design1, design2, design3, design4, design5, design6, design7, design8, design9)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>sev_design <span class="sc">%&gt;%</span> </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(ensaio_1, design) <span class="sc">%&gt;%</span> </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tabyl</span>(design)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> design  n    percent
      1  4 0.05128205
      2 16 0.20512821
      3  9 0.11538462
      4  5 0.06410256
      5  8 0.10256410
      6  8 0.10256410
      7  8 0.10256410
      8  5 0.06410256
      9 15 0.19230769</code></pre>
</div>
</div>
<p>Inconsistency</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>mv_sev_design <span class="ot">&lt;-</span> <span class="fu">rma.mv</span>(log_sev, vi_sev,</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">mods =</span> <span class="sc">~</span>produto <span class="sc">*</span> design,</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">random =</span> <span class="fu">list</span>(<span class="sc">~</span> <span class="dv">1</span> <span class="sc">|</span> ensaio_1 <span class="sc">/</span> design <span class="sc">/</span> produto),</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">struct =</span> <span class="st">"HCS"</span>,</span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">"ML"</span>,</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">control =</span> <span class="fu">list</span>(<span class="at">optimizer =</span> <span class="st">"nlm"</span>),</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> sev_design)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>mv_sev_design</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Multivariate Meta-Analysis Model (k = 445; method: ML)

Variance Components:

            estim    sqrt  nlvls  fixed                   factor 
sigma^2.1  0.3760  0.6132     78     no                 ensaio_1 
sigma^2.2  0.3760  0.6132     78     no          ensaio_1/design 
sigma^2.3  0.0720  0.2683    445     no  ensaio_1/design/produto 

Test for Residual Heterogeneity:
QE(df = 427) = 53237.7194, p-val &lt; .0001

Test of Moderators (coefficients 2:18):
QM(df = 17) = 847.1330, p-val &lt; .0001

Model Results:

                                                            estimate      se 
intrcpt                                                       2.6490  0.2216 
produtoABACUS HC (Controle Positivo)                         -0.9941  0.1023 
produtoBELYAN  (Controle Positivo)                           -1.5331  0.1444 
produtoFOX XPRO                                              -1.2373  0.1119 
produtoOSKESTRA SC                                           -1.1980  0.1126 
produtoPREVINIL                                              -1.0670  0.1700 
produtotrat_A20259                                           -1.2715  0.1277 
produtoTRIDIUM                                               -1.0051  0.1145 
produtoUNIZEB GOLD (Controle Positivo, multissítio)          -0.9437  0.2124 
design                                                        0.0456  0.0381 
produtoABACUS HC (Controle Positivo):design                   0.0217  0.0186 
produtoBELYAN  (Controle Positivo):design                     0.0862  0.0325 
produtoFOX XPRO:design                                        0.0135  0.0204 
produtoOSKESTRA SC:design                                     0.0051  0.0203 
produtoPREVINIL:design                                        0.0376  0.0376 
produtotrat_A20259:design                                     0.0002  0.0211 
produtoTRIDIUM:design                                        -0.0183  0.0205 
produtoUNIZEB GOLD (Controle Positivo, multissítio):design    0.0265  0.0422 
                                                                zval    pval 
intrcpt                                                      11.9542  &lt;.0001 
produtoABACUS HC (Controle Positivo)                         -9.7127  &lt;.0001 
produtoBELYAN  (Controle Positivo)                          -10.6169  &lt;.0001 
produtoFOX XPRO                                             -11.0562  &lt;.0001 
produtoOSKESTRA SC                                          -10.6388  &lt;.0001 
produtoPREVINIL                                              -6.2753  &lt;.0001 
produtotrat_A20259                                           -9.9558  &lt;.0001 
produtoTRIDIUM                                               -8.7785  &lt;.0001 
produtoUNIZEB GOLD (Controle Positivo, multissítio)          -4.4440  &lt;.0001 
design                                                        1.1976  0.2311 
produtoABACUS HC (Controle Positivo):design                   1.1676  0.2430 
produtoBELYAN  (Controle Positivo):design                     2.6536  0.0080 
produtoFOX XPRO:design                                        0.6626  0.5076 
produtoOSKESTRA SC:design                                     0.2510  0.8018 
produtoPREVINIL:design                                        1.0001  0.3172 
produtotrat_A20259:design                                     0.0113  0.9910 
produtoTRIDIUM:design                                        -0.8922  0.3723 
produtoUNIZEB GOLD (Controle Positivo, multissítio):design    0.6276  0.5303 
                                                              ci.lb    ci.ub 
intrcpt                                                      2.2147   3.0833 
produtoABACUS HC (Controle Positivo)                        -1.1947  -0.7935 
produtoBELYAN  (Controle Positivo)                          -1.8162  -1.2501 
produtoFOX XPRO                                             -1.4566  -1.0179 
produtoOSKESTRA SC                                          -1.4188  -0.9773 
produtoPREVINIL                                             -1.4002  -0.7337 
produtotrat_A20259                                          -1.5218  -1.0211 
produtoTRIDIUM                                              -1.2295  -0.7807 
produtoUNIZEB GOLD (Controle Positivo, multissítio)         -1.3600  -0.5275 
design                                                      -0.0290   0.1202 
produtoABACUS HC (Controle Positivo):design                 -0.0147   0.0582 
produtoBELYAN  (Controle Positivo):design                    0.0225   0.1498 
produtoFOX XPRO:design                                      -0.0264   0.0534 
produtoOSKESTRA SC:design                                   -0.0346   0.0448 
produtoPREVINIL:design                                      -0.0361   0.1112 
produtotrat_A20259:design                                   -0.0410   0.0415 
produtoTRIDIUM:design                                       -0.0585   0.0219 
produtoUNIZEB GOLD (Controle Positivo, multissítio):design  -0.0562   0.1091 
                                                                
intrcpt                                                     *** 
produtoABACUS HC (Controle Positivo)                        *** 
produtoBELYAN  (Controle Positivo)                          *** 
produtoFOX XPRO                                             *** 
produtoOSKESTRA SC                                          *** 
produtoPREVINIL                                             *** 
produtotrat_A20259                                          *** 
produtoTRIDIUM                                              *** 
produtoUNIZEB GOLD (Controle Positivo, multissítio)         *** 
design                                                          
produtoABACUS HC (Controle Positivo):design                     
produtoBELYAN  (Controle Positivo):design                    ** 
produtoFOX XPRO:design                                          
produtoOSKESTRA SC:design                                       
produtoPREVINIL:design                                          
produtotrat_A20259:design                                       
produtoTRIDIUM:design                                           
produtoUNIZEB GOLD (Controle Positivo, multissítio):design      

---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(mv_sev_design, <span class="at">btt =</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">18</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Test of Moderators (coefficients 11:18):
QM(df = 8) = 11.4389, p-val = 0.1780</code></pre>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>